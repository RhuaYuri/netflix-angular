<div class="loading-spinner" *ngIf="loading">
  <img
    src="../../../assets/spinner-loading.png"
    class="loading-spinner__icon"
  />
</div>
<div class="watch-player">
  <video
    #player
    [src]="media.media"
    class="watch-player-video"
    (click)="onClickVideo()"
    (dblclick)="onDoubleClickVideo()"
  ></video>

  <div #headerIcon class="watch-player__header">
    <i
      routerLink="/browse"
      class="fas fa-arrow-left watch-player__header-icon"
    ></i>
    <span class="watch-player__header-tooltip">Back to Browse</span>
  </div>
  <div #footer class="watch-player__footer">
    <div class="progress-bar">
      <div class="progress-bar__container" (click)="onProgressClick($event)">
        <div class="progress-bar__current" [style.width]="progress + '%'"></div>
      </div>
      <div class="progress-bar__duration">
        {{ (player.duration - player.currentTime) * 1000 | date: 'mm:ss' }}
      </div>
    </div>
    <app-watch-player-controls
      class="watch-player-controls"
      (mediaStateEvent)="onMediaStateChange($event)"
      [mediaState]="mediaState"
    ></app-watch-player-controls>
  </div>
</div>
